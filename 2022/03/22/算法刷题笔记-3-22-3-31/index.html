<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|åæ–‡è¡Œæ¥·:300,300italic,400,400italic,700,700italic|Roboto Mono:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"mdreamers.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="3.22stack.peek() å’Œ stack.pop() çš„åŒºåˆ« peek()  æ˜¯ä¸åˆ é™¤å–å‡ºï¼Œpop() æ˜¯å–å‡ºå¹¶åˆ é™¤ æ‘©å°”æŠ•ç¥¨æ³•å¤šæ•°å…ƒç´ ">
<meta property="og:type" content="article">
<meta property="og:title" content="ç®—æ³•åˆ·é¢˜ç¬”è®°(3.22-3.31)">
<meta property="og:url" content="https://mdreamers.github.io/2022/03/22/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-3-22-3-31/index.html">
<meta property="og:site_name" content="è¿½æ¢¦">
<meta property="og:description" content="3.22stack.peek() å’Œ stack.pop() çš„åŒºåˆ« peek()  æ˜¯ä¸åˆ é™¤å–å‡ºï¼Œpop() æ˜¯å–å‡ºå¹¶åˆ é™¤ æ‘©å°”æŠ•ç¥¨æ³•å¤šæ•°å…ƒç´ ">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-03-22T00:43:24.000Z">
<meta property="article:modified_time" content="2022-03-31T10:25:34.166Z">
<meta property="article:author" content="lbl">
<meta property="article:tag" content="ç®—æ³•">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://mdreamers.github.io/2022/03/22/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-3-22-3-31/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ç®—æ³•åˆ·é¢˜ç¬”è®°(3.22-3.31) | è¿½æ¢¦</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!--pjaxï¼šé˜²æ­¢è·³è½¬é¡µé¢éŸ³ä¹æš‚åœ-->
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">è¿½æ¢¦</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Learning is the ladder of progress</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mdreamers.github.io/2022/03/22/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-3-22-3-31/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/wallhaven-m9q6e9.jpg">
      <meta itemprop="name" content="lbl">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="è¿½æ¢¦">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ç®—æ³•åˆ·é¢˜ç¬”è®°(3.22-3.31)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-03-22 08:43:24" itemprop="dateCreated datePublished" datetime="2022-03-22T08:43:24+08:00">2022-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2022-03-31 18:25:34" itemprop="dateModified" datetime="2022-03-31T18:25:34+08:00">2022-03-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">ç®—æ³•</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="é˜…è¯»æ¬¡æ•°" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="æœ¬æ–‡å­—æ•°">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
              <span>22k</span>
            </span>
            <span class="post-meta-item" title="é˜…è¯»æ—¶é•¿">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
              <span>20 åˆ†é’Ÿ</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="3-22"><a href="#3-22" class="headerlink" title="3.22"></a>3.22</h1><p><code>stack.peek()</code> å’Œ <code>stack.pop()</code> çš„åŒºåˆ«</p>
<p><code>peek()</code>  æ˜¯ä¸åˆ é™¤å–å‡ºï¼Œ<code>pop()</code> æ˜¯å–å‡ºå¹¶åˆ é™¤</p>
<h2 id="æ‘©å°”æŠ•ç¥¨æ³•"><a href="#æ‘©å°”æŠ•ç¥¨æ³•" class="headerlink" title="æ‘©å°”æŠ•ç¥¨æ³•"></a>æ‘©å°”æŠ•ç¥¨æ³•</h2><p><strong>å¤šæ•°å…ƒç´ </strong></p>
<span id="more"></span>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">    <span class="comment">//é‡åˆ°å‹å†›é˜µå®¹å¢åŠ </span></span><br><span class="line">        <span class="keyword">if</span> (res == nums[i])</span><br><span class="line">            count++;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//é­é‡æ•Œå†›ï¼Œå¯¹æ‹¼æ¶ˆè€—</span></span><br><span class="line">            count--;</span><br><span class="line">        <span class="comment">//è¯¥æ‰¹å‹å†›é˜µäº¡ï¼Œæ¢ä¸‹ä¸€æ‰¹ä½œä¸ºå‹å†›è®°å½•</span></span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">                res = nums[i + <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-23"><a href="#3-23" class="headerlink" title="3.23"></a>3.23</h1><h2 id="å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ "><a href="#å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ " class="headerlink" title="å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ "></a>å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </h2><p>é¦–å…ˆè¿™ä¸€é¢˜çš„éš¾ç‚¹åœ¨äºæ‰€æœ‰æ–¹æ³•å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)</p>
<p>è¿™é“é¢˜å¾ˆå¥½çš„åˆ©ç”¨äº†mapæ’å…¥åˆ é™¤æ—¶é—´å¤æ‚åº¦O(1)å’ŒåŠ¨æ€æ•°ç»„æœ‰åºå¯ä»¥ä½¿ç”¨random éšæœºæŠ½å–çš„ç‰¹ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RandomizedSet</span> </span>&#123;</span><br><span class="line">    Map&lt;Integer,Integer&gt; map;</span><br><span class="line">    List&lt;Integer&gt; list;</span><br><span class="line">    Random random = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">RandomizedSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        map.put(val, list.size());</span><br><span class="line">        list.add(list.size(), val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!map.containsKey(val)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="comment">// å°†è¯¥å€¼çš„ç´¢å¼•æ‹¿åˆ°ï¼Œå’Œæœ€åä¸€ä¸ªæ•°è¿›è¡Œæ›¿æ¢ï¼Œå°†è¿™ä¸ªæ•°ç§»åˆ°æœ€åä¸€ä¸ªä½ç½®</span></span><br><span class="line">        <span class="keyword">int</span> index = map.get(val);</span><br><span class="line">        <span class="keyword">int</span> lastElement = list.get(list.size() - <span class="number">1</span>);</span><br><span class="line">        list.set(index, lastElement);</span><br><span class="line">        map.put(lastElement, index);</span><br><span class="line">        list.remove(list.size() - <span class="number">1</span>);</span><br><span class="line">        map.remove(val);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRandom</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> list.get(random.nextInt(list.size()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="randomç±»"><a href="#randomç±»" class="headerlink" title="randomç±»"></a>randomç±»</h3><p><code>nextInt(int n)</code>æ–¹æ³•ï¼šè¿”å›ä¸€ä¸ªä¼ªéšæœºæ•°ï¼ŒèŒƒå›´åœ¨0(åŒ…æ‹¬)å’ŒæŒ‡å®šå€¼ n (ä¸åŒ…æ‹¬)ä¹‹é—´çš„ int å€¼ã€‚</p>
<p>ç”±äºè¿™é‡Œæ˜¯0â€”n-1ï¼Œå¦‚æœæƒ³è¦è·å–1â€”nå°±å¯ä»¥åŠ ä¸€ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<p><strong>éšæœºæ•°ç§å­</strong></p>
<p>æŒ‡å®šç§å­ï¼Œä»¥æŸä¸ªç§å­ä½œä¸ºéšæœºæ•°</p>
<p><code>setSeed(long seed)</code> ï¼šåªè¦å®šå¥½ç§å­ï¼Œæ¯”å¦‚ <code>random.setSeed(9)</code> é‚£ä¹ˆåé¢è¿”å›çš„å°±æ˜¯å›ºå®šçš„éšæœºæ•°ã€‚</p>
<p><strong><code>Random random = new Random()</code></strong>ï¼šæ²¡æœ‰ç»™ç§å­ï¼Œç”¨çš„æ˜¯é»˜è®¤ç§å­ï¼Œæ˜¯å½“å‰æ—¶é—´çš„æ¯«ç§’å€¼</p>
<p><strong><code>Random random = new Random(99)</code></strong>ï¼šæŒ‡å®šç§å­ï¼Œåé¢è¿”å›çš„å°±æ˜¯å›ºå®šå€¼</p>
<h1 id="3-24"><a href="#3-24" class="headerlink" title="3.24"></a>3.24</h1><h2 id="å‡ æ•°ä¹‹å’Œ"><a href="#å‡ æ•°ä¹‹å’Œ" class="headerlink" title="å‡ æ•°ä¹‹å’Œ"></a>å‡ æ•°ä¹‹å’Œ</h2><p>1ã€å¦‚æœæ˜¯é—®å‡ æ•°ä¹‹å’Œå„ä¸ªæ•°çš„ç»„åˆæ•°ï¼Œå¦‚ä¹‹å‰çš„ä¸‰æ•°ä¹‹å’Œé‚£é¢˜ï¼Œä¸€èˆ¬æ˜¯ç”¨åˆ°<strong>äºŒåˆ†æˆ–è€…åŒæŒ‡é’ˆ</strong>è¿™ç§èƒ½å¤Ÿå¾—åˆ°å…·ä½“æ•°å­—æƒ…å†µçš„æ–¹æ³•æ¥é™ä½å¾ªç¯çš„å±‚æ•°ã€‚<br>2ã€å¦‚æœæ˜¯é—®å‡ æ•°ä¹‹å’Œä¸­ç¬¦åˆæƒ…å†µçš„ä¸ªæ•°ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨hashè¡¨é™ä½å¾ªç¯å±‚æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬åªéœ€è¦å…³æ³¨ç­”æ¡ˆçš„æ¬¡æ•°å³å¯ã€‚ã€‚</p>
<p><strong>ç¬¬ä¸€ç§æƒ…å†µï¼šä¸‰æ•°ä¹‹å’Œ</strong></p>
<p>ä¸»è¦æ˜¯é€šè¿‡ left å’Œ right å¯¹æ’æŒ‡é’ˆï¼Œå½“ç„¶è¿˜æœ‰ä¸€ä¸ªå›ºå®šå‘å³ç§»åŠ¨æŒ‡é’ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n-<span class="number">2</span>;i++) &#123;</span><br><span class="line">        <span class="comment">// é‡å¤çš„å°±ä¸è¦å†èµ°äº†ï¼Œç›´æ¥è·³è¿‡</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">1</span> &amp;&amp; nums[i] == nums[i-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//æ’åºåå¤§äºé›¶çš„å°±ç›´æ¥é€€å‡º,å› ä¸ºä¸‰æ•°ä¹‹å’Œä¸ºé›¶çš„è¯è‚¯å®šè¦å°äºç­‰äº0</span></span><br><span class="line">        <span class="keyword">if</span>(nums[i] &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">int</span> left = i + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> right = n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> sum = nums[left] + nums[right];</span><br><span class="line">            <span class="keyword">if</span>(sum + nums[i] == <span class="number">0</span>) &#123;</span><br><span class="line">                List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">                list.add(nums[i]);</span><br><span class="line">                list.add(nums[left]);</span><br><span class="line">                list.add(nums[right]);</span><br><span class="line">                res.add(list);</span><br><span class="line">                left++;</span><br><span class="line">                right--;</span><br><span class="line">                <span class="comment">// é‡å¤çš„å°±ä¸è¦å†èµ°äº†ï¼Œç›´æ¥è·³è¿‡</span></span><br><span class="line">                <span class="keyword">while</span>(left &lt; right &amp;&amp; nums[left] == nums[left-<span class="number">1</span>]) </span><br><span class="line">                    left++;</span><br><span class="line">                <span class="keyword">while</span>(left &lt; right &amp;&amp; nums[right] == nums[right+<span class="number">1</span>])</span><br><span class="line">                    right--;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(sum + nums[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                right--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç¬¬äºŒç§æƒ…å†µï¼šå››æ•°ä¹‹å’Œ</strong></p>
<p>a + b + c + d=0 $\longrightarrow$ a + b = - (c + d) </p>
<p>æ‰€ä»¥å°† $O(n^4)$ å˜æˆäº† $O(n^2)$</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">fourSumCount</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2, <span class="keyword">int</span>[] nums3, <span class="keyword">int</span>[] nums4)</span> </span>&#123;</span><br><span class="line">    HashMap&lt;Integer,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i : nums1) </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j : nums2) &#123;</span><br><span class="line">            map.merge(i+j, <span class="number">1</span>, Integer::sum);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i : nums3)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j : nums4) &#123;</span><br><span class="line">            count += map.getOrDefault(-(i+j), <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-25"><a href="#3-25" class="headerlink" title="3.25"></a>3.25</h1><h2 id="ç”Ÿå‘½æ¸¸æˆ"><a href="#ç”Ÿå‘½æ¸¸æˆ" class="headerlink" title="ç”Ÿå‘½æ¸¸æˆ"></a>ç”Ÿå‘½æ¸¸æˆ</h2><p>è¿™ä¸ªä½è¿ç®—æ˜¯çœŸçš„é¡¶å’ŒçŠ¶æ€åˆ¤æ–­ç»“åˆæ˜¯çœŸçš„é¡¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">gameOfLife</span><span class="params">(<span class="keyword">int</span>[][] board)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ€è·¯ï¼šç”¨ä¸€ä¸ªå‡½æ•°è¿›è¡Œè®°å½•å½“å‰å‘¨å›´å…«ä¸ªç»†èƒçš„çŠ¶æ€</span></span><br><span class="line">    <span class="comment">//ä¸€ä¸ªç»†èƒçš„çŠ¶æ€ï¼šè¿™æ¬¡å’Œä¸‹æ¬¡ï¼Œ1ï¼šæ´»ï¼Œ0ï¼šæ­»</span></span><br><span class="line">    <span class="comment">// çŠ¶æ€0ï¼šäºŒè¿›åˆ¶ï¼š00ï¼Œæ­»æ­»</span></span><br><span class="line">    <span class="comment">// çŠ¶æ€1ï¼šäºŒè¿›åˆ¶ï¼š01ï¼Œæ´»æ­»</span></span><br><span class="line">    <span class="comment">// çŠ¶æ€2ï¼šäºŒè¿›åˆ¶ï¼š10ï¼Œæ­»æ´»</span></span><br><span class="line">    <span class="comment">// çŠ¶æ€3ï¼šäºŒè¿›åˆ¶ï¼š11ï¼Œæ´»æ´»</span></span><br><span class="line">    <span class="comment">// boardæ•°ç»„ç”¨æ¥è®°å½•å½“å‰å„ä¸ªç»†èƒçš„çŠ¶æ€</span></span><br><span class="line">    <span class="comment">//ç”¨dx,dyæ•°ç»„è®°å½•å½“å‰ç»†èƒçš„å…¶ä»–å…«ä¸ªä½ç½®</span></span><br><span class="line">    <span class="keyword">int</span>[] dx = &#123;-<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span>[] dy = &#123;<span class="number">0</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> m = board.length;</span><br><span class="line">    <span class="keyword">int</span> n = board[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">int</span> count = countLife(board, i, j, dx, dy);</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="number">1</span> &amp;&amp; (count == <span class="number">2</span> || count == <span class="number">3</span>))</span><br><span class="line">                board[i][j] = <span class="number">3</span>;</span><br><span class="line">            <span class="keyword">if</span>(board[i][j] == <span class="number">0</span> &amp;&amp; count == <span class="number">3</span>)</span><br><span class="line">                board[i][j] = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            board[i][j] &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">countLife</span><span class="params">(<span class="keyword">int</span>[][] board, <span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span>[] dx, <span class="keyword">int</span>[] dy)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> nx = x + dx[i];</span><br><span class="line">        <span class="keyword">int</span> ny = y + dy[i];</span><br><span class="line">        <span class="keyword">if</span>(nx &gt;= <span class="number">0</span> &amp;&amp; nx &lt; board.length &amp;&amp; ny &gt;= <span class="number">0</span> &amp;&amp; ny &lt; board[<span class="number">0</span>].length) &#123;</span><br><span class="line">            count+=(board[nx][ny] &amp; <span class="number">1</span>);<span class="comment">// ä¸è¿ç®—ï¼Œåªæœ‰å½“å‰æ´»æ‰èƒ½ä¸º1</span></span><br><span class="line">            <span class="comment">// ç­‰ä»·äºif(board[nx][ny] == 1 || board[nx][ny] == 3) count++;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ç¼ºå¤±ä¸€ä¸ªæ­£æ•°"><a href="#ç¼ºå¤±ä¸€ä¸ªæ­£æ•°" class="headerlink" title="ç¼ºå¤±ä¸€ä¸ªæ­£æ•°"></a>ç¼ºå¤±ä¸€ä¸ªæ­£æ•°</h2><p>éš¾ç‚¹åœ¨äºæ—¶é—´å¤æ‚åº¦ $O(n)$ï¼Œç©ºé—´å¤æ‚åº¦ $O(1)$</p>
<p><strong>åŸåœ°hash</strong></p>
<p><strong>æ€æƒ³ï¼š</strong></p>
<p>æˆ‘ä»¬å…ˆå°†æ¯ä¸€ä¸ªæ•°éƒ½ç§»åŠ¨åˆ°ç´¢å¼•ä¸ºä»–ä»¬è‡ªèº« - 1çš„æ•°ç»„ç©ºé—´ä¸­</p>
<p>æˆ‘ä»¬åªè¦å…³æ³¨è¿™äº›æ•°æ˜¯å¦åœ¨æ•°ç»„ä¸­</p>
<p>å¦‚æœè¿™äº›æ•°éƒ½åœ¨æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆè¯´æ˜æœ€å°å€¼å°±æ˜¯n+1</p>
<p>å¦‚æœä¸åœ¨æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆåœ¨æ•°ç»„ä¸­ä¸€å®šæœ‰ç©ºç¼ºçš„ä½ç½®ï¼Œè€Œç¬¬ä¸€ä¸ªç©ºç¼ºçš„ä½ç½®çš„ç´¢å¼• + 1å°±æ˜¯ç¼ºå¤±çš„æœ€å°æ­£æ•°</p>
<p>å½’æ ¹åˆ°åº•å°±æ˜¯ HashMap çš„ä¸€éƒ¨åˆ†æ€æƒ³ï¼šå°†hashå€¼ä¸å½“å‰ç´¢å¼•æ„å»ºå…³ç³»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(nums[i] &gt; <span class="number">0</span> &amp;&amp; nums[i] &lt;= n &amp;&amp; nums[i] != nums[nums[i] - <span class="number">1</span>])</span><br><span class="line">            swap(nums, i, nums[i] - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums[i] != i + <span class="number">1</span>) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h1 id="3-26"><a href="#3-26" class="headerlink" title="3.26"></a>3.26</h1><h2 id="æˆç¯æ³•"><a href="#æˆç¯æ³•" class="headerlink" title="æˆç¯æ³•"></a>æˆç¯æ³•</h2><h3 id="å¯»æ‰¾é‡å¤æ•°"><a href="#å¯»æ‰¾é‡å¤æ•°" class="headerlink" title="å¯»æ‰¾é‡å¤æ•°"></a>å¯»æ‰¾é‡å¤æ•°</h3><p>å‰é¢æ¥è§¦è¿‡åšè¿‡é“¾è¡¨æˆç¯ï¼Œå‡½æ•°æˆç¯ï¼Œè¿™åˆæ¥äº†ä¸€ä¸ªæ•°ç»„æˆç¯,ä½†æ˜¯è‡ªå·±è¿˜æ˜¯æƒ³ä¸åˆ°ğŸ˜“,çœ‹åˆ°è¿™é“é¢˜å¾ˆç‰¹æ®Š,å°±é€šè¿‡å»ºç«‹æ•°ç»„ç´¢å¼•å’Œæ•°ç»„ä¸­çš„å€¼ä¹‹é—´çš„è”ç³»åšå‡ºæ¥äº†ï¼Œè™½ç„¶äºŒè€…é€Ÿåº¦å·®è·ä¸å¤§ï¼Œä½†æˆç¯æ³•æ˜¯çœŸçš„å¦™ï¼Œç›´æ¥æŠŠæˆ‘å‰é¢åšçš„å‡ é“é¢˜ä¸²èµ·æ¥äº†ğŸ˜­</p>
<p>1.æ•°ç»„ä¸­æœ‰ä¸€ä¸ªé‡å¤çš„æ•´æ•° &lt;==&gt; é“¾è¡¨ä¸­å­˜åœ¨ç¯<br>2.æ‰¾åˆ°æ•°ç»„ä¸­çš„é‡å¤æ•´æ•° &lt;==&gt; æ‰¾åˆ°é“¾è¡¨çš„ç¯å…¥å£</p>
<p>æ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ <code>slow = slow.next</code> $\Longrightarrow$ <code>slow = nums[slow]</code><br>å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ <code>fast = fast.next.next</code> $\Longrightarrow$  <code>fast = nums[nums[fast]]</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findDuplicate</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> slow = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> fast = nums[nums[<span class="number">0</span>]];</span><br><span class="line">    <span class="comment">//åªè¦ç›¸ç­‰çš„è¯å°±è¡¨ç¤ºä¸¤ä¸ªç›¸é‡äº†</span></span><br><span class="line">    <span class="keyword">while</span>(slow != fast) &#123;</span><br><span class="line">        slow = nums[slow];</span><br><span class="line">        fast = nums[nums[fast]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> pre1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> pre2 = slow;</span><br><span class="line">    <span class="comment">//è¿™é‡Œå…¶å®å¾—éœ€è¦ä¸€äº›æ•°å­¦æ¨å¯¼ï¼Œä¹Ÿå°±æ˜¯ç¯çš„ç›¸é‡ç‚¹åˆ°å¾ªç¯å…¥å£ == èµ·ç‚¹åˆ°å¾ªç¯å…¥å£ </span></span><br><span class="line">    <span class="keyword">while</span>(pre1 != pre2)&#123;</span><br><span class="line">        pre1 = nums[pre1];</span><br><span class="line">        pre2 = nums[pre2];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pre1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŸºæœ¬è®¡ç®—å™¨"><a href="#åŸºæœ¬è®¡ç®—å™¨" class="headerlink" title="åŸºæœ¬è®¡ç®—å™¨"></a>åŸºæœ¬è®¡ç®—å™¨</h2><p>è™½ç„¶çŸ¥é“ä½¿ç”¨æ ˆï¼Œä¸€ä¸ªå‚¨å­˜å­—ç¬¦ï¼Œä¸€ä¸ªå‚¨å­˜æ•°å­—ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸ä¼šğŸ˜­</p>
<p>æœ¬é¢˜æ€è·¯ï¼š</p>
<ul>
<li>é€šè¿‡ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªå­˜å‚¨å­—ç¬¦ï¼Œä¸€ä¸ªå­˜å‚¨æ•°å­—</li>
<li>è¦è€ƒè™‘åˆ°ä¼˜å…ˆçº§é—®é¢˜ï¼Œæ‰€ä»¥ç”¨mapè®°å½•å„ä¸ªå­—ç¬¦çš„ä¼˜å…ˆçº§</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;()&#123;&#123;</span><br><span class="line">        put(<span class="string">&#x27;-&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">        put(<span class="string">&#x27;+&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">        put(<span class="string">&#x27;*&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">        put(<span class="string">&#x27;/&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">        put(<span class="string">&#x27;%&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">        put(<span class="string">&#x27;^&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">    &#125;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        s = s.replaceAll(<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">char</span>[] cs = s.toCharArray();</span><br><span class="line">        <span class="keyword">int</span> n = cs.length;</span><br><span class="line">        <span class="comment">//å­˜æ”¾æ•°å­—</span></span><br><span class="line">        Deque&lt;Integer&gt; nums = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        nums.add(<span class="number">0</span>);<span class="comment">//é˜²æ­¢å‡ºç° +num,-num</span></span><br><span class="line">        <span class="comment">//å­˜æ”¾å…¶ä»–ç¬¦å·</span></span><br><span class="line">        Deque&lt;Character&gt; ops = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = cs[i];</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                ops.addLast(c);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">while</span>(!ops.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(ops.peekLast() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                        calc(nums, ops);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        ops.pollLast();</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(Character.isDigit(c)) &#123;</span><br><span class="line">                    <span class="keyword">int</span> j = i; </span><br><span class="line">                    <span class="keyword">int</span> u = <span class="number">0</span>;</span><br><span class="line">                    <span class="comment">// å–å‡ºåé¢çš„è¿ç»­æ•°å­—</span></span><br><span class="line">                    <span class="keyword">while</span>(j &lt; n &amp;&amp; Character.isDigit(cs[j])) </span><br><span class="line">                        u = u * <span class="number">10</span> + (cs[j++] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                    nums.addLast(u);</span><br><span class="line">                    i = j - <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// é˜²æ­¢å‡ºç°(-numçš„æƒ…å†µï¼Œè¿™é‡Œå¾ˆå®¹æ˜“å‡ºé—®é¢˜</span></span><br><span class="line">                    <span class="comment">// æ‰€ä»¥è¦æ·»0ï¼š(0-num</span></span><br><span class="line">                    <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; cs[i - <span class="number">1</span>] == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">                        nums.addLast(<span class="number">0</span>);</span><br><span class="line">                    <span class="keyword">while</span>(!ops.isEmpty() &amp;&amp; ops.peekLast() != <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                        <span class="keyword">char</span> prev = ops.peekLast();</span><br><span class="line">                        <span class="comment">//åˆ¤æ–­ä¼˜å…ˆçº§</span></span><br><span class="line">                        <span class="keyword">if</span>(map.get(prev) &gt;= map.get(c)) &#123;</span><br><span class="line">                            calc(nums, ops);</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ops.addLast(c);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å°†å‰©ä¸‹çš„è®¡ç®—å®Œ</span></span><br><span class="line">        <span class="keyword">while</span>(!ops.isEmpty()) calc(nums, ops);</span><br><span class="line">        <span class="keyword">return</span> nums.peekLast();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">calc</span><span class="params">(Deque&lt;Integer&gt; nums,Deque&lt;Character&gt; ops)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.size() &lt; <span class="number">2</span> || ops.isEmpty()) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> b = nums.pollLast();</span><br><span class="line">        <span class="keyword">int</span> a = nums.pollLast();</span><br><span class="line">        <span class="keyword">char</span> op = ops.pollLast();</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">switch</span> (op) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: res = a + b; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: res = a - b; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: res = a * b; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: res = a / b; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;%&#x27;</span>: res = a % b; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>: res = (<span class="keyword">int</span>) Math.pow(a,b); <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        nums.addLast(res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="åŒç«¯é˜Ÿåˆ—"><a href="#åŒç«¯é˜Ÿåˆ—" class="headerlink" title="åŒç«¯é˜Ÿåˆ—"></a>åŒç«¯é˜Ÿåˆ—</h2><h3 id="æ»‘åŠ¨çª—å£æœ€å¤§å€¼"><a href="#æ»‘åŠ¨çª—å£æœ€å¤§å€¼" class="headerlink" title="æ»‘åŠ¨çª—å£æœ€å¤§å€¼"></a>æ»‘åŠ¨çª—å£æœ€å¤§å€¼</h3><p>é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ $O(n^2)$ æ—¶é—´å¤æ‚åº¦çš„å¾ªç¯ï¼Œæœä¸å…¶ç„¶è¶…å‡ºæ—¶é—´é™åˆ¶â€¦â€¦</p>
<p>è¿™åŒç«¯é˜Ÿåˆ—å¯å¤ªè¡Œäº†</p>
<p>æœ¬é¢˜æ€è·¯ï¼š</p>
<ul>
<li>é€šè¿‡ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—è¿›è¡Œè®°å½•</li>
<li>ä¾æ¬¡éå†ï¼Œå¦‚æœå…¥é˜Ÿçš„æ•°æ›´å¤§ï¼Œå°±å°†å‰é¢çš„å‡ºé˜Ÿï¼Œå¦åˆ™ä¸€ç›´å…¥é˜Ÿ</li>
<li>å°†æ»‘åŠ¨çª—å£ä¸­ä¸åŒ…å«çš„æ•°å‡ºé˜Ÿ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">int</span> n = nums.length;</span><br><span class="line">    <span class="keyword">if</span>(n == <span class="number">1</span>) <span class="keyword">return</span> nums;</span><br><span class="line">    <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[n - k + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    Deque&lt;Integer&gt; deque = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; nums[i]) &#123;</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        deque.addLast(nums[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    res[index++] = deque.peekFirst();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = k; j &lt; n; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(deque.peekFirst() == nums[j - k]) &#123;</span><br><span class="line">            deque.pollFirst();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(!deque.isEmpty() &amp;&amp; deque.peekLast() &lt; nums[j]) &#123;</span><br><span class="line">            deque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        deque.addLast(nums[j]);</span><br><span class="line">        res[index++] = deque.peekFirst();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-27"><a href="#3-27" class="headerlink" title="3.27"></a>3.27</h1><h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><ul>
<li><strong>æ»‘åŠ¨ï¼š</strong>è¯´æ˜è¿™ä¸ªçª—å£æ˜¯ç§»åŠ¨çš„ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨æ˜¯æŒ‰ç…§ä¸€å®šæ–¹å‘æ¥çš„ã€‚</li>
<li><strong>çª—å£ï¼š</strong>çª—å£å¤§å°å¯ä»¥ä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥ä¸æ–­æ‰©å®¹æˆ–ç¼©å°ï¼Œç›´åˆ°æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„çª—å£ï¼›</li>
</ul>
<p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œè¿™é‡Œé‡‡ç”¨çš„æ˜¯å­—ç¬¦ä¸²æ¥è®²è§£ã€‚ä½†æ˜¯å¯¹äºæ•°ç»„å…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æ»‘åŠ¨çª—å£ç®—æ³•çš„æ€è·¯æ˜¯è¿™æ ·ï¼š</p>
<ol>
<li>æˆ‘ä»¬åœ¨å­—ç¬¦ä¸² S ä¸­ä½¿ç”¨åŒæŒ‡é’ˆä¸­çš„å·¦å³æŒ‡é’ˆæŠ€å·§ï¼Œåˆå§‹åŒ– left = right = 0ï¼ŒæŠŠç´¢å¼•é—­åŒºé—´ [left, right] ç§°ä¸ºä¸€ä¸ªã€Œçª—å£ã€ã€‚</li>
<li>æˆ‘ä»¬å…ˆä¸æ–­åœ°å¢åŠ  right æŒ‡é’ˆæ‰©å¤§çª—å£ [left, right]ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ç¬¦åˆè¦æ±‚ï¼ˆåŒ…å«äº† T ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼‰ã€‚</li>
<li>æ­¤æ—¶ï¼Œæˆ‘ä»¬åœæ­¢å¢åŠ  rightï¼Œè½¬è€Œä¸æ–­å¢åŠ  left æŒ‡é’ˆç¼©å°çª—å£ [left, right]ï¼Œç›´åˆ°çª—å£ä¸­çš„å­—ç¬¦ä¸²ä¸å†ç¬¦åˆè¦æ±‚ï¼ˆä¸åŒ…å« T ä¸­çš„æ‰€æœ‰å­—ç¬¦äº†ï¼‰ã€‚åŒæ—¶ï¼Œæ¯æ¬¡å¢åŠ  leftï¼Œæˆ‘ä»¬éƒ½è¦æ›´æ–°ä¸€è½®ç»“æœã€‚</li>
<li>é‡å¤ç¬¬ 2 å’Œç¬¬ 3 æ­¥ï¼Œç›´åˆ° right åˆ°è¾¾å­—ç¬¦ä¸² S çš„å°½å¤´ã€‚</li>
</ol>
<p>è¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿä¸éš¾ï¼Œç¬¬ 2 æ­¥ç›¸å½“äºåœ¨å¯»æ‰¾ä¸€ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œç„¶åç¬¬ 3 æ­¥åœ¨ä¼˜åŒ–è¿™ä¸ªã€Œå¯è¡Œè§£ã€ï¼Œæœ€ç»ˆæ‰¾åˆ°æœ€ä¼˜è§£ã€‚å·¦å³æŒ‡é’ˆè½®æµå‰è¿›ï¼Œçª—å£å¤§å°å¢å¢å‡å‡ï¼Œçª—å£ä¸æ–­å‘å³æ»‘åŠ¨ã€‚</p>
<p><strong>æ»‘åŠ¨çª—å£æ¨¡æ¿</strong></p>
<p>çª—å£éå›ºå®š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">String s, t;</span><br><span class="line">    <span class="comment">// åœ¨ s ä¸­å¯»æ‰¾ t çš„ã€Œæœ€å°è¦†ç›–å­ä¸²ã€</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    String res = s;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(right &lt; s.size()) &#123;</span><br><span class="line">        window.add(s[right]);</span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">// å¦‚æœç¬¦åˆè¦æ±‚ï¼Œè¯´æ˜çª—å£æ„é€ å®Œæˆï¼Œç§»åŠ¨ left ç¼©å°çª—å£</span></span><br><span class="line">        <span class="keyword">while</span> (window ç¬¦åˆè¦æ±‚) &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœè¿™ä¸ªçª—å£çš„å­ä¸²æ›´çŸ­ï¼Œåˆ™æ›´æ–° res</span></span><br><span class="line">            res = minLen(res, window);</span><br><span class="line">            window.remove(s[left]);</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>
<p>çª—å£å›ºå®š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å›ºå®šçª—å£å¤§å°ä¸º k</span></span><br><span class="line">    String s;</span><br><span class="line">    <span class="comment">// åœ¨ s ä¸­å¯»æ‰¾çª—å£å¤§å°ä¸º k æ—¶çš„æ‰€åŒ…å«æœ€å¤§å…ƒéŸ³å­—æ¯ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">int</span>  right = <span class="number">0</span>;<span class="keyword">while</span>(right &lt; s.size()) &#123;</span><br><span class="line">        window.add(s[right]);</span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">// å¦‚æœç¬¦åˆè¦æ±‚ï¼Œè¯´æ˜çª—å£æ„é€ å®Œæˆï¼Œ</span></span><br><span class="line">        <span class="keyword">if</span> (right&gt;=k) &#123;</span><br><span class="line">            <span class="comment">// è¿™æ˜¯å·²ç»æ˜¯ä¸€ä¸ªçª—å£äº†ï¼Œæ ¹æ®æ¡ä»¶åšä¸€äº›äº‹æƒ…</span></span><br><span class="line">           <span class="comment">// ... å¯ä»¥è®¡ç®—çª—å£æœ€å¤§å€¼ç­‰ </span></span><br><span class="line">            <span class="comment">// æœ€åä¸è¦å¿˜è®°æŠŠ right -k ä½ç½®å…ƒç´ ä»çª—å£é‡Œé¢ç§»é™¤</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br></pre></td></tr></table></figure>
<h3 id="æœ€å°è¦†ç›–å­ä¸²"><a href="#æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="æœ€å°è¦†ç›–å­ä¸²"></a>æœ€å°è¦†ç›–å­ä¸²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> threshold = t.length();</span><br><span class="line">    <span class="keyword">int</span> minLen = s.length();</span><br><span class="line">    String res = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ»‘åŠ¨çª—å£å·¦å³è¾¹ç•Œ</span></span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> right = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; threshold; i++) &#123;</span><br><span class="line">        map.put(t.charAt(i), map.getOrDefault(t.charAt(i), <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(right &lt; s.length()) &#123;</span><br><span class="line">        <span class="comment">//çª—å£ä¸æ»¡è¶³æ¡ä»¶ï¼Œå‘å³ä¸€ç›´æ‹“å±•</span></span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span>(map.containsKey(c)) &#123;</span><br><span class="line">            map.put(c, map.get(c) - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span>(map.get(c) &gt;= <span class="number">0</span>) threshold--;</span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">        <span class="comment">//æ»¡è¶³æ¡ä»¶ï¼Œå·¦çª—å£å¼€å§‹æ”¶æŸ</span></span><br><span class="line">        <span class="keyword">while</span>(threshold == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//æœ€å°å­—ä¸²åˆ¤å®š</span></span><br><span class="line">            <span class="keyword">if</span>(minLen &gt;= right - left) &#123;</span><br><span class="line">                minLen = right - left;</span><br><span class="line">                res = s.substring(left, right);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">char</span> o = s.charAt(left);</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(o)) &#123;</span><br><span class="line">                map.put(o, map.get(o) + <span class="number">1</span>);</span><br><span class="line">                <span class="comment">// è¯¥çª—å£ä¸åœ¨æ»¡è¶³æ¡ä»¶ï¼Œéœ€è¦ç»§ç»­å‘å³æ‹“å±•</span></span><br><span class="line">                <span class="keyword">if</span>(map.get(o) &gt; <span class="number">0</span>) threshold++;</span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>ä»Šå¤©è¿™ä¸ªé“¾è¡¨é¢˜è™½ç„¶ä¸éš¾ï¼Œä½†æ˜¯å´æš´éœ²äº†æˆ‘å¾ˆå¤šé—®é¢˜ï¼Œå“ï¼Œé“¾è¡¨ä½¿ç”¨åŠŸåº•è¿˜æ˜¯ä¸æ‰å®</p>
<p>é“¾è¡¨è¦è®¾ç½®å¤´ç»“ç‚¹</p>
<p>å¤´ç»“ç‚¹æ˜¯ä¸ºäº†é˜²æ­¢å•é“¾è¡¨æ˜¯ç©ºè€Œè®¾è®¡çš„ï¼Œå•é“¾è¡¨åŠ ä¸Šå¤´ç»“ç‚¹ä¹‹åï¼Œå½“å•é“¾è¡¨ä¸ºç©ºçš„æ—¶å€™ï¼Œå¸¦å¤´ç»“ç‚¹çš„å¤´æŒ‡é’ˆå°±æŒ‡å‘å¤´ç»“ç‚¹ï¼Œå¤´ç»“ç‚¹çš„æŒ‡é’ˆåŸŸçš„æ•°å€¼ä¸ºnullã€‚å½“å•é“¾è¡¨ä¸ä¸ºç©ºçš„æ—¶å€™ï¼Œå¸¦å¤´ç»“ç‚¹çš„å¤´æŒ‡é’ˆä¾ç„¶æŒ‡å‘å¤´ç»“ç‚¹ï¼Œè€Œå¤´ç»“ç‚¹åˆ™æŒ‡å‘å•é“¾è¡¨çš„ç¬¬ä¸€ä¸ªæ•°æ®ç»“ç‚¹ã€‚</p>
<p>å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨è¿›è¡Œæ“ä½œæ—¶é¦–å…ˆæ˜¯åˆå§‹åŒ–ç”³è¯·ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œè®©å¤´æŒ‡é’ˆæŒ‡å‘å¤´ç»“ç‚¹ï¼Œä¹‹åæ— è®ºæ’å…¥çš„ä½ç½®æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹è¿˜æ˜¯å…¶ä»–ç»“ç‚¹ï¼Œæ‰€æ‰§è¡Œçš„æ­¥éª¤éƒ½æ˜¯ä¸€æ ·çš„ã€‚è€Œä¸å¸¦å¤´ç»“ç‚¹çš„å•é“¾è¡¨ï¼Œå…¶æ‰§è¡Œæ­¥éª¤è¦åˆ†åˆ«è€ƒè™‘æ’å…¥çš„ä½ç½®æ˜¯ç¬¬ä¸€ä¸ªç»“ç‚¹è¿˜æ˜¯å…¶ä»–ç»“ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">merge</span><span class="params">(ListNode left, ListNode right)</span> </span>&#123;</span><br><span class="line">    ListNode head = <span class="keyword">new</span> ListNode();</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span>(left != <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(left.val &lt; right.val) &#123;</span><br><span class="line">            curr.next = left;<span class="comment">//</span></span><br><span class="line">            left = left.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curr.next = right;</span><br><span class="line">            right = right.next;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    curr = left == <span class="keyword">null</span>? right : left;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>å°±æ‹¿è¿™ä¸ªä»£ç æ¥è¯´ï¼Œå¯ä»¥å‘ç°ï¼Œè¿™é‡Œæœ€åè¿”å›çš„æ˜¯head.nextï¼Œè€Œè¿™æ ·åšçš„åŸå› ä¹Ÿå°±æ˜¯ä¸ºäº†ä»£ç æ›´ä¼˜é›…ï¼Œå› ä¸ºå¦‚æœ<code>left.next</code>ä¸ºnullçš„è¯ï¼Œé‚£ä¹ˆ<code>curr = curr.next = null</code>ï¼Œä¹Ÿå°±æ˜¯<code>curr = null</code>ï¼Œokä¸ç”¨åšä¸‹å»äº†ï¼Œæˆ‘ä»¬ç›´æ¥æŠŠcurrå…³è¿›å°é»‘å±‹å‡ºä¸æ¥äº†ï¼Œå‰é¢çš„å€¼ä¹Ÿéƒ½æ²¡äº†ï¼Œæ‰€ä»¥è¯´ä¸ºä»€ä¹ˆè¦ç”¨<code>curr.next = left</code>  ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿä¸èƒ½ç›´æ¥<code>curr = left</code> è¿™æ ·<code>curr</code>å°±ä¼šéšç€<code>left</code> å’Œ <code>right</code> çš„æ”¹å˜è€Œæ”¹å˜åœ°å€ã€‚ è¿™æ · <strong><code>curr = head</code> åå­˜å®äº¡</strong></p>
<p><strong>æ€»ç»“</strong></p>
<p>1ã€ä¸è¦è®©ç»“ç‚¹æŒ‡å‘nullï¼Œå¦‚æœç»“ç‚¹ä¸ºnullï¼Œé‚£å°±å‰åŠŸå°½å¼ƒï¼Œåªèƒ½è®©å®ƒçš„nextæŒ‡å‘null</p>
<p>2ã€æ³¨æ„å¤´ç»“ç‚¹åœ°å€ï¼Œå¤´ç»“ç‚¹ä¸€å®šè¦æ˜¯é“¾è¡¨çš„ç¬¬ä¸€ä¸ªåœ°å€ã€‚</p>
<h3 id="åˆå¹¶kä¸ªæ’åºé“¾è¡¨"><a href="#åˆå¹¶kä¸ªæ’åºé“¾è¡¨" class="headerlink" title="åˆå¹¶kä¸ªæ’åºé“¾è¡¨"></a>åˆå¹¶kä¸ªæ’åºé“¾è¡¨</h3><p>éå†ç¨å¾®çš„ä¼˜åŒ–ä¸€ä¸‹ï¼Œå°†åŸæ¥çš„ä¸€ä¸ªä¸ªåˆå¹¶å˜æˆä¸¤ä¸¤åˆå¹¶ï¼Œæ—¶é—´å¤æ‚åº¦ä»$O(k^2N)$ åˆ°$O(N\log k)$ ï¼Œé€Ÿåº¦ä¹Ÿå¿«ä¸Šäº†ä¸å°‘</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¼˜åŒ–å‰ï¼š</span></span><br><span class="line"><span class="comment">public ListNode mergeKLists(ListNode[] lists) &#123;</span></span><br><span class="line"><span class="comment">    ListNode res = null;</span></span><br><span class="line"><span class="comment">    for (ListNode list: lists) &#123;</span></span><br><span class="line"><span class="comment">        res = merge2Lists(res, list);</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    return res;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//ä¼˜åŒ–åï¼š</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(lists.length == <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">int</span> n = lists.length;</span><br><span class="line">    <span class="keyword">while</span>(n &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i += <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == n - <span class="number">1</span>) &#123; <span class="comment">//ä¹Ÿå°±æ˜¯è¯´nä¸ºå¥‡æ•°ï¼Œæ‰€ä»¥è¯´è¿™ä¸ªæ•°å•ç‹¬å­˜åœ¨åé¢</span></span><br><span class="line">                lists[index++] = lists[i]; </span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                lists[index++] = merge(lists[i], lists[i + <span class="number">1</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        n = index;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> lists[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="é“¾è¡¨ç‰ˆçš„å½’å¹¶æ’åº"><a href="#é“¾è¡¨ç‰ˆçš„å½’å¹¶æ’åº" class="headerlink" title="é“¾è¡¨ç‰ˆçš„å½’å¹¶æ’åº"></a>é“¾è¡¨ç‰ˆçš„å½’å¹¶æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">sortList</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span> || head.next == <span class="keyword">null</span>) <span class="keyword">return</span> head;</span><br><span class="line">    ListNode slow = head;</span><br><span class="line">    ListNode fast = head.next;</span><br><span class="line">    <span class="keyword">while</span>(fast !=<span class="keyword">null</span> &amp;&amp; fast.next !=<span class="keyword">null</span>) &#123;</span><br><span class="line">        slow = slow.next;</span><br><span class="line">        fast = fast.next.next;</span><br><span class="line">    &#125;</span><br><span class="line">    ListNode after = slow.next;</span><br><span class="line">    slow.next = <span class="keyword">null</span>;</span><br><span class="line">    head = sortList(head);</span><br><span class="line">    after = sortList(after);</span><br><span class="line">    <span class="keyword">return</span> merge(head, after);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">merge</span><span class="params">(ListNode list1, ListNode list2)</span> </span>&#123;</span><br><span class="line">    ListNode head = <span class="keyword">new</span> ListNode();</span><br><span class="line">    ListNode curr = head;</span><br><span class="line">    <span class="keyword">while</span>(list1 != <span class="keyword">null</span> &amp;&amp; list2 !=<span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(list1.val &lt; list2.val) &#123;</span><br><span class="line">            curr.next = list1;</span><br><span class="line">            list1 = list1.next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            curr.next = list2;</span><br><span class="line">            list2 = list2.next;</span><br><span class="line">        &#125;</span><br><span class="line">        curr = curr.next;</span><br><span class="line">    &#125;</span><br><span class="line">    curr.next = list1 == <span class="keyword">null</span>? list2 : list1;</span><br><span class="line">    <span class="keyword">return</span> head.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-28"><a href="#3-28" class="headerlink" title="3.28"></a>3.28</h1><p><strong>å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨</strong></p>
<p>ç›´æ¥æ“ä½œåŸé“¾è¡¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(Node p = head; p != <span class="keyword">null</span>; p = p.next.next) &#123;</span><br><span class="line">        <span class="comment">//å°†è¯¥é“¾è¡¨æ¯ä¸ªå€¼éƒ½å¾€åç§»ä¸€ä½ï¼Œæ‰€ä»¥æ­¤æ—¶çš„é“¾è¡¨å°±æ‰©å……ä¸ºåŸæ¥é•¿åº¦çš„ä¸¤å€</span></span><br><span class="line">        Node q = <span class="keyword">new</span> Node(p.val);</span><br><span class="line">        q.next = p.next;</span><br><span class="line">        p.next = q;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(Node p = head; p != <span class="keyword">null</span>; p = p.next.next) &#123;</span><br><span class="line">        <span class="keyword">if</span>(p.random != <span class="keyword">null</span>)</span><br><span class="line">        <span class="comment">//å°†è¯¥é“¾è¡¨çš„randoméƒ½å¾€åç§»ä¸€ä½</span></span><br><span class="line">            p.next.random = p.random.next;</span><br><span class="line">    &#125;</span><br><span class="line">    Node dummy = <span class="keyword">new</span> Node(-<span class="number">1</span>), cur = dummy;</span><br><span class="line">    <span class="keyword">for</span>(Node p = head; p != <span class="keyword">null</span>; p = p.next) &#123;</span><br><span class="line">        Node q = p.next;</span><br><span class="line">        cur.next = q;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">        <span class="comment">//å¤åŸåŸé“¾è¡¨</span></span><br><span class="line">        p.next = q.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dummy.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>dfs</code>æ¥æ±‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Node, Node&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">copyRandomList</span><span class="params">(Node head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">return</span> dfs(head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Node <span class="title">dfs</span><span class="params">(Node node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    <span class="comment">//è¡¨ç¤ºè¯¥ç»“ç‚¹å·²ç»è¢«è®¿é—®è¿‡äº†ï¼Œç›´æ¥ä»mapä¸­å–å‡ºå¯¹åº”çš„å¤åˆ¶ç»“ç‚¹è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span>(map.containsKey(node)) <span class="keyword">return</span> map.get(node);</span><br><span class="line">    Node clone = <span class="keyword">new</span> Node(node.val); <span class="comment">//å¤åˆ¶ç»“ç‚¹</span></span><br><span class="line">    map.put(node, clone);<span class="comment">// å»ºç«‹åŸç»“ç‚¹å’Œå¤åˆ¶ç»“ç‚¹çš„æ˜ å°„</span></span><br><span class="line">    clone.next = dfs(node.next); <span class="comment">// å¤åˆ¶nextæŒ‡å‘</span></span><br><span class="line">    clone.random = dfs(node.random);<span class="comment">// å¤åˆ¶randomæŒ‡å‘</span></span><br><span class="line">    <span class="keyword">return</span> clone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å•è¯æ¥é¾™"><a href="#å•è¯æ¥é¾™" class="headerlink" title="å•è¯æ¥é¾™"></a>å•è¯æ¥é¾™</h2><p><strong>BFS+ä¼˜åŒ–å»ºå›¾</strong></p>
<p>æ€è·¯ï¼šç®€è€Œè¨€ä¹‹å°±æ˜¯è¯¥å•è¯æ›¿æ¢ä¸€ä¸ªå­—æ¯å°±æ­£å¥½åœ¨wordSetä¸­ï¼Œé‚£ä¹ˆå°±èƒ½æ„å»ºå‡ºæ¥æ— å‘å›¾</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä¾¿äºåˆ¤æ–­æŸä¸ªå•è¯æ˜¯å¦åœ¨hashè¡¨ä¸­</span></span><br><span class="line">    Set&lt;String&gt; wordSet = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    <span class="keyword">if</span>(wordSet.size() == <span class="number">0</span> || !wordSet.contains(endWord)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    wordSet.remove(beginWord);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—ç”¨æ¥è®°å½•å•è¯</span></span><br><span class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    queue.offer(beginWord);</span><br><span class="line">    <span class="comment">//visitedæ ‡è®°å·²è®¿é—®</span></span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    visited.add(beginWord);</span><br><span class="line">    <span class="comment">// è®°å½•æœ€çŸ­è½¬æ¢åºåˆ—é•¿åº¦ï¼Œå› ä¸ºé‡Œé¢åŒ…æ‹¬äº†endWordæ‰€ä»¥ä»1å¼€å§‹</span></span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> size = queue.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">            <span class="comment">// éå†å½“å‰é˜Ÿåˆ—é‡Œçš„å•è¯</span></span><br><span class="line">            String currentWord = queue.poll();</span><br><span class="line">            <span class="keyword">if</span> (changeWord(currentWord,endWord,queue,wordSet,visited)) <span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">changeWord</span><span class="params">(String currentWord,String endWord,Queue&lt;String&gt; queue,Set&lt;String&gt; wordSet, Set&lt;String&gt; visited)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] charArray = currentWord.toCharArray();</span><br><span class="line">    <span class="comment">// ä¸€ä¸ªä¸€ä¸ªæ›¿æ¢å­—æ¯è¿›è¡ŒæŸ¥æ‰¾</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; endWord.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> originChar = charArray[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> k = <span class="string">&#x27;a&#x27;</span>; k &lt;= <span class="string">&#x27;z&#x27;</span>; k++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(k == originChar) <span class="keyword">continue</span>;</span><br><span class="line">            charArray[i] = k;</span><br><span class="line">            String nextWord = String.valueOf(charArray);</span><br><span class="line">            <span class="keyword">if</span>(wordSet.contains(nextWord)) &#123;</span><br><span class="line">                <span class="comment">// æ‰¾åˆ°æ›¿æ¢ä¸€ä¸ªå­—æ¯å°±å’Œæœ€åä¸€ä¸ªå•è¯ç›¸ç­‰çš„å°±ç›´æ¥è¿”å›</span></span><br><span class="line">                <span class="keyword">if</span>(nextWord.equals(endWord)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="comment">// æ ‡è®°æ²¡æœ‰è®¿é—®è¿‡çš„</span></span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(nextWord)) &#123;</span><br><span class="line">                    <span class="comment">// å°†è®¿é—®çš„ç¬¦åˆæ¡ä»¶çš„éƒ½å‚¨å­˜åœ¨queueä¸­ä¾›ä¸‹ä¸€æ¬¡éå†</span></span><br><span class="line">                    queue.add(nextWord);</span><br><span class="line">                    visited.add(nextWord);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¢å¤</span></span><br><span class="line">        charArray[i] = originChar;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>åŒå‘BFS</strong></p>
<p>ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°åŒå‘BFS</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</span><br><span class="line">    Set&lt;String&gt; wordSet = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</span><br><span class="line">    <span class="keyword">if</span>(!wordSet.contains(endWord)) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="comment">// åˆ†åˆ«ç”¨å·¦è¾¹å³è¾¹æ‰©æ•£çš„HashSetæ¥æ›¿æ¢å•å‘BFSçš„é˜Ÿåˆ—ï¼Œå®ƒåœ¨åŒå‘BFSä¸­äº¤æ›¿ä½¿ç”¨</span></span><br><span class="line">    Set&lt;String&gt; beginVisited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    beginVisited.add(beginWord);</span><br><span class="line">    Set&lt;String&gt; endVisited = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    endVisited.add(endWord);</span><br><span class="line">    <span class="keyword">int</span> step = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!beginVisited.isEmpty() &amp;&amp; !endVisited.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">if</span>(beginVisited.size() &gt; endVisited.size()) &#123;</span><br><span class="line">            Set&lt;String&gt; temp = beginVisited;</span><br><span class="line">            beginVisited = endVisited;</span><br><span class="line">            endVisited = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¿è¯äº†beginVisitedæ˜¯ç›¸å¯¹è¾ƒå°çš„Set,nextLevelæ‰©æ•£å®Œæˆåï¼Œä¼šæˆä¸ºæ–°çš„beginVisited</span></span><br><span class="line">        Set&lt;String&gt; nextLevel = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(String word : beginVisited) &#123;</span><br><span class="line">            <span class="keyword">if</span>(changeWord(word, endVisited, wordSet,visited, nextLevel))<span class="keyword">return</span> step + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åºŸå¼ƒåŸæœ¬çš„beginVisited</span></span><br><span class="line">        beginVisited = nextLevel;</span><br><span class="line">        step++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">changeWord</span><span class="params">(String word, Set&lt;String&gt; endVisited, Set&lt;String&gt; wordSet, Set&lt;String&gt; visited, Set&lt;String&gt; nextLevel)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] charArray = word.toCharArray();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> temp = charArray[i];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c = <span class="string">&#x27;a&#x27;</span>; c &lt;= <span class="string">&#x27;z&#x27;</span>; c++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(c == temp) <span class="keyword">continue</span>;</span><br><span class="line">            charArray[i] = c;</span><br><span class="line">            String newWord = String.valueOf(charArray);</span><br><span class="line">            <span class="keyword">if</span>(wordSet.contains(newWord)) &#123;</span><br><span class="line">                <span class="keyword">if</span>(endVisited.contains(newWord)) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                <span class="keyword">if</span>(!visited.contains(newWord)) &#123;</span><br><span class="line">                    nextLevel.add(newWord);</span><br><span class="line">                    visited.add(newWord);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ¢å¤</span></span><br><span class="line">        charArray[i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-29"><a href="#3-29" class="headerlink" title="3.29"></a>3.29</h1><h2 id="äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"><a href="#äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ" class="headerlink" title="äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ"></a>äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</h2><p>é€šè¿‡dfséå†å·¦å³å­æ ‘ï¼Œæ‰¾åˆ°pï¼Œqç»“ç‚¹</p>
<p>æœ€è¿‘å…¬å…±ç¥–å…ˆä¸€å…±å°±ä¸¤ç§æƒ…å†µ</p>
<ul>
<li>pã€qåœ¨å·¦å³ä¸¤è¾¹ï¼šè¿”å›æ ¹èŠ‚ç‚¹</li>
<li>pã€qåœ¨ä¸€è¾¹</li>
</ul>
<p>è¿™é‡Œæˆ‘ä»¬ä¸è¦çº ç»“é€’å½’çš„ç»†ææœ«èŠ‚ï¼Œåªè¦ä»å®è§‚è¿›è¡ŒæŠŠæ¡ï¼Œä¹Ÿå°±æ˜¯å°†é€’å½’è½¬åŒ–æˆ3ä¸ªç»“ç‚¹çš„é—®é¢˜ï¼Œå·¦ç»“ç‚¹ï¼Œæ ¹ç»“ç‚¹ï¼Œå³ç»“ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">lowestCommonAncestor</span><span class="params">(TreeNode root, TreeNode p, TreeNode q)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span> || root == p || root == q) <span class="keyword">return</span> root;</span><br><span class="line">    TreeNode left = lowestCommonAncestor(root.left, p, q);</span><br><span class="line">    TreeNode right = lowestCommonAncestor(root.right, p, q);</span><br><span class="line">    <span class="comment">// på’Œqåœ¨ä¸åŒçš„å­æ ‘</span></span><br><span class="line">    <span class="keyword">if</span>(left != <span class="keyword">null</span> &amp;&amp; right != <span class="keyword">null</span>) <span class="keyword">return</span> root;</span><br><span class="line">    <span class="comment">// på’Œqåœ¨ç›¸åŒçš„å­æ ‘</span></span><br><span class="line">    <span class="keyword">return</span> right == <span class="keyword">null</span> ? left : right; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ"><a href="#äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ" class="headerlink" title="äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ"></a>äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ</h2><p>dfsï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<p>ä¸»è¦æ³¨æ„é¢˜ç›®ï¼Œè¿™é‡Œçš„dfsåº”è¯¥æ˜¯å•è¾¹æœç´¢ï¼Œä¸èƒ½åˆ†å‰</p>
<p>æ‰€ä»¥è¯´å¦‚æœä»å®è§‚æŠŠæ¡çš„è¯ï¼Œæˆ‘ä»¬åªèƒ½è¿”å›å·¦èŠ‚ç‚¹+æ ¹èŠ‚ç‚¹ï¼Œæˆ–è€…å³èŠ‚ç‚¹+æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœè¿”å›å·¦+æ ¹+å³çš„è¯ï¼Œé‚£ä¹ˆå°±ç­‰äºéå†äº†æ•´ä¸ªæ ‘ï¼Œå°±æ˜¯åˆ†å‰çš„äº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> maxSum = Integer.MIN_VALUE;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    dfs(root);</span><br><span class="line">    <span class="keyword">return</span> maxSum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode node)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> leftMax = Math.max(dfs(node.left), <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> rightMax = Math.max(dfs(node.right),<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// æœ€å¤§è·¯å¾„å°±æ˜¯å·¦éƒ¨åˆ†(å•è¾¹)+è¯¥ç»“ç‚¹+å³éƒ¨åˆ†(å•è¾¹)</span></span><br><span class="line">    <span class="keyword">int</span> sum = leftMax + node.val + rightMax;</span><br><span class="line">    maxSum = Math.max(sum, maxSum);</span><br><span class="line">    <span class="comment">// è¿”å›å•è¾¹åˆ†æ”¯çš„æœ€å¤§è·¯å¾„</span></span><br><span class="line">    <span class="keyword">return</span> node.val + Math.max(leftMax, rightMax);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h2><blockquote>
<p>ä¸€ç§æ•°æ®ç»“æ„</p>
</blockquote>
<p><strong>åŸºæœ¬æ¦‚å¿µï¼š</strong></p>
<ul>
<li>å¹¶(Union)ï¼Œä»£è¡¨<strong>åˆå¹¶</strong></li>
<li>æŸ¥(Find)ï¼Œä»£è¡¨<strong>æŸ¥æ‰¾</strong></li>
<li>é›†(Set)ï¼Œä»£è¡¨è¿™æ˜¯ä¸€ä¸ªä»¥<strong>å­—å…¸</strong>ä¸ºåŸºç¡€çš„æ•°æ®ç»“æ„</li>
<li>å¹¶æŸ¥é›†è§£å†³é—®é¢˜(æ·»åŠ ã€åˆå¹¶ã€æŸ¥æ‰¾)çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯$O(1)$</li>
</ul>
<p>å¹¶æŸ¥é›†å’Œæ ‘æœ‰äº›ç±»ä¼¼ï¼Œä¸è¿‡å®ƒå’Œæ ‘æ˜¯ç›¸åçš„ï¼Œåœ¨æ ‘çš„æ•°æ®ç»“æ„ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹ä¼šè®°å½•å®ƒçš„å­ç»“ç‚¹ï¼Œåœ¨å¹¶æŸ¥é›†ä¸­ï¼Œæ¯ä¸ªç»“ç‚¹ä¼šè®°å½•çˆ¶ç»“ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;Integer,Integer&gt; father <span class="comment">//keyè®°å½•å½“å‰ï¼Œvalueè®°å½•å½“å‰ç»“ç‚¹çˆ¶èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure>
<p>å¹¶æŸ¥é›†æ¨¡æ¿ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer,Integer&gt; father;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        father = <span class="keyword">new</span> HashMap&lt;Integer,Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!father.containsKey(x)) &#123;</span><br><span class="line">            father.put(x, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆå¹¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootX = find(x);</span><br><span class="line">        <span class="keyword">int</span> rootY = find(y);</span><br><span class="line">        <span class="comment">// åªæœ‰æ ¹èŠ‚ç‚¹ä¸ç›¸ç­‰æ‰ä¼šåˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span> (rootX != rootY)&#123;</span><br><span class="line">            father.put(rootX,rootY);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾å¹¶è¿”å›æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> root = x;</span><br><span class="line">        <span class="comment">//ä¸€ç›´å‘ä¸Šæ‰¾</span></span><br><span class="line">        <span class="keyword">while</span>(father.get(root) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            root = father.get(root);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è·¯å¾„å‹ç¼©</span></span><br><span class="line">        <span class="keyword">while</span>(x != root)&#123;</span><br><span class="line">            <span class="keyword">int</span> original_father = father.get(x);</span><br><span class="line">            father.put(x,root);</span><br><span class="line">            x = original_father;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿æ¥ï¼Œç›´æ¥æ‰¾åˆ°å®ƒä»¬çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(x) == find(y);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æœ‹å‹åœˆ"><a href="#æœ‹å‹åœˆ" class="headerlink" title="æœ‹å‹åœˆ"></a>æœ‹å‹åœˆ</h3><p>è¿™é“é¢˜å°±æ˜¯æ±‚æ— å‘å›¾çš„è¿é€šåŸŸçš„ä¸ªæ•°ï¼Œå°†æ¯ä¸ªå¯¹è±¡éƒ½æ·»åŠ åˆ°å¹¶æŸ¥é›†ä¸­ï¼Œåªè¦æ»¡è¶³æ¡ä»¶å¯ä»¥è¿›è¡Œ<strong>åˆå¹¶</strong></p>
<p>è¿™é‡Œç”±äºéœ€è¦è¿”å›ä¸ªæ•°ï¼Œåœ¨å¹¶æŸ¥é›†ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®°å½•æ·»åŠ çš„å¯¹è±¡ä¸ªæ•°ï¼Œå¦‚æœèƒ½åˆå¹¶çš„è¯ï¼Œé‚£ä¹ˆå‡å°‘ä¸€ä¸ªå¯¹è±¡çš„ä¸ªæ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;Integer,Integer&gt; father;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> numOfSets = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        father = <span class="keyword">new</span> HashMap&lt;Integer,Integer&gt;();</span><br><span class="line">        numOfSets = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!father.containsKey(x)) &#123;</span><br><span class="line">            father.put(x, <span class="keyword">null</span>);</span><br><span class="line">            numOfSets++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆå¹¶</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> rootX = find(x);</span><br><span class="line">        <span class="keyword">int</span> rootY = find(y);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (rootX != rootY)&#123;</span><br><span class="line">            father.put(rootX,rootY);</span><br><span class="line">            numOfSets--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾æ ¹èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> root = x;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(father.get(root) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            root = father.get(root);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¿›è¡Œè·¯å¾„å‹ç¼©</span></span><br><span class="line">        <span class="keyword">while</span>(x != root)&#123;</span><br><span class="line">            <span class="keyword">int</span> original_father = father.get(x);</span><br><span class="line">            father.put(x,root);</span><br><span class="line">            x = original_father;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> root;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ˜¯å¦è¿æ¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(x) == find(y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNumOfSets</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> numOfSets;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCircleNum</span><span class="params">(<span class="keyword">int</span>[][] isConnected)</span> </span>&#123;</span><br><span class="line">        UnionFind uf = <span class="keyword">new</span> UnionFind();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; isConnected.length; i++) &#123;</span><br><span class="line">            uf.add(i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(isConnected[i][j] == <span class="number">1</span>)</span><br><span class="line">                    uf.merge(i, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> uf.getNumOfSets();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-30"><a href="#3-30" class="headerlink" title="3.30"></a>3.30</h1><h2 id="è¯¾ç¨‹è¡¨"><a href="#è¯¾ç¨‹è¡¨" class="headerlink" title="è¯¾ç¨‹è¡¨"></a>è¯¾ç¨‹è¡¨</h2><p>ç¬¬ä¸€é“å°±æ˜¯æœ‰å‘æ— ç¯å›¾</p>
<p><strong>æ‹“æ‰‘æ’åº</strong></p>
<p>åœ¨å›¾ä¸­é€‰ä¸€ä¸ªæ²¡æœ‰å‰é©±çš„é¡¶ç‚¹</p>
<p>åˆ é™¤è¯¥é¡¶ç‚¹ï¼Œä»¥åŠä»¥å®ƒä¸ºå°¾çš„å¼§</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canFinish</span><span class="params">(<span class="keyword">int</span> numCourses,<span class="keyword">int</span>[][]prerequisites)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ç”¨æ¥å‚¨å­˜è¯¾å·å’Œå¯¹åº”çš„å…¥åº¦</span></span><br><span class="line">    Map&lt;Integer, Integer&gt; inDgree = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numCourses; i ++) &#123;</span><br><span class="line">        inDgree.put(i, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç”¨æ¥å»ºç«‹é‚»æ¥è¡¨ï¼Œä¹Ÿå°±æ˜¯å½“å‰è¯¾ç¨‹å’Œååºè¯¾ç¨‹çš„ä¾èµ–å…³ç³»</span></span><br><span class="line">    Map&lt;Integer,List&lt;Integer&gt;&gt; adj = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span>[] relate : prerequisites) &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = relate[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> next = relate[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// æ›´æ–°å…¥åº¦</span></span><br><span class="line">        inDgree.put(next, inDgree.get(next) + <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// å»ºç«‹é‚»æ¥è¡¨</span></span><br><span class="line">        <span class="keyword">if</span>(!adj.containsKey(cur)) &#123;</span><br><span class="line">            adj.put(cur, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        adj.get(cur).add(next);</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Integer&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// å°†åº¦ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å‰é©±çš„é¡¶ç‚¹æ”¾å…¥é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> key : inDgree.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span>(inDgree.get(key) == <span class="number">0</span>) queue.offer(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> cur = queue.poll();</span><br><span class="line">        <span class="keyword">if</span>(!adj.containsKey(cur)) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">// æ‹¿åˆ°å½“å‰é‚»æ¥è¡¨åé¢çš„é¡¶ç‚¹è¿›è¡Œéå†</span></span><br><span class="line">        List&lt;Integer&gt; success = adj.get(cur);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k : success) &#123;</span><br><span class="line">            <span class="comment">// éå†åˆ°å°±å°†å…¥åº¦-1ï¼Œä¹Ÿå°±æ˜¯åˆ é™¤ä»¥å®ƒä¸ºå°¾çš„å¼§</span></span><br><span class="line">            inDgree.put(k, inDgree.get(k) - <span class="number">1</span>);</span><br><span class="line">            <span class="comment">// åº¦ä¸º0ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å‰é©±çš„é¡¶ç‚¹ï¼Œéƒ½è¿›å…¥é˜Ÿåˆ—è¿›è¡Œä¸‹ä¸€æ¬¡éå†</span></span><br><span class="line">            <span class="keyword">if</span>(inDgree.get(k) == <span class="number">0</span>) queue.offer(k);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¦‚æœè¿˜æœ‰å…¥åº¦ä¸ä¸º0çš„ï¼Œè¯´æ˜è¯¥å›¾ä¸­å­˜åœ¨ç¯ï¼Œå°±è¿”å›false</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> key : inDgree.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span>(inDgree.get(key) != <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-31"><a href="#3-31" class="headerlink" title="3.31"></a>3.31</h1><h2 id="æ•°ç»„ä¸­çš„é€†åºæ•°å¯¹"><a href="#æ•°ç»„ä¸­çš„é€†åºæ•°å¯¹" class="headerlink" title="æ•°ç»„ä¸­çš„é€†åºæ•°å¯¹"></a>æ•°ç»„ä¸­çš„é€†åºæ•°å¯¹</h2><p>ä¸€ä¸²æ•°ï¼š1ï¼Œ3ï¼Œ5ï¼Œ7 | 2ï¼Œ6ï¼Œ7ï¼Œ8</p>
<p>leftï¼š1ï¼Œ3ï¼Œ5ï¼Œ7</p>
<p>rightï¼š2ï¼Œ6ï¼Œ7ï¼Œ8</p>
<p>é¦–å…ˆleftä¸­ï¼Œ1åé¢è‚¯å®šéƒ½ä¸æ˜¯å®ƒçš„é€†åºå¯¹</p>
<p>é‚£ä¹ˆåœ¨rightä¸­åˆæœ‰å¤šå°‘å¯¹å®ƒçš„é€†åºå¯¹å‘¢ï¼Ÿå¾ˆæ˜¾ç„¶</p>
<p>åªè¦ä»ç¬¬ä¸€ä¸ªå¼€å§‹æ¯”è¾ƒï¼Œ1 &lt; 2ï¼Œå¥½äº†åé¢è‚¯å®šéƒ½ä¸æ˜¯</p>
<p>æ‰€ä»¥è¯´1çš„é€†åºå¯¹å°±æ˜¯ (i = 0) + (j = 0) = 0 ï¼Œ</p>
<p>ç¬¬äºŒè½®ï¼š</p>
<p>æ­¤æ—¶ i åœ¨ 3çš„ä½ç½®</p>
<p>3vçš„é€†åºå¯¹å°±æ˜¯v1ï¼Œå› ä¸º3 &gt; 2</p>
<p>è€Œ 3,5,7 ä¹Ÿå°±æ˜¯æœ‰(mid - i + 1) ä¸ªæ•°éƒ½è¦æ¯” 2 å¤§ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶å°±æœ‰äº†mid - i + 1ä¸ªé€†åºå¯¹</p>
<h2 id="ç´¢å¼•æ•°ç»„"><a href="#ç´¢å¼•æ•°ç»„" class="headerlink" title="ç´¢å¼•æ•°ç»„"></a>ç´¢å¼•æ•°ç»„</h2><h3 id="è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"><a href="#è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°" class="headerlink" title="è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°"></a>è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</h3><blockquote>
<p>å…¶å®ä¹Ÿå°±æ˜¯è®¡ç®—æ¯ä¸ªæ•°çš„é€†åºå¯¹</p>
</blockquote>
<p>1.å…ƒç´ å’Œå…ƒç´ çš„ç´¢å¼•çœ‹æˆæ˜¯ç­‰ä»·çš„; æ’åºåå…ƒç´ æ”¾åœ¨å“ªä¸ªä½ç½®ä¸Šï¼Œå…¶åœ¨åŸæ•°ç»„ä¸­çš„ç´¢å¼•ä¹Ÿæ”¾åœ¨ç›¸åº”çš„ä½ç½®ä¸Š; </p>
<p>2.å¯¹äºä¸€ä¸ªç´¢å¼•æ¥è¯´ï¼Œ index[p] = p,</p>
<p>è¿™é‡Œæ˜¯ç”¨å½’å¹¶æ’åºè®¡ç®—é€†åºæ•°</p>
<p>ä¸è¿‡è¿™ä¸€é¢˜æ˜¯è®¡ç®—<strong>å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</strong>ï¼Œæ‰€ä»¥è¦ç”¨<strong>å‰æœ‰åºæ•°ç»„</strong>æ¥ç®—é€†åºæ•°ï¼Œä¹Ÿå°±æ˜¯ <code>j - mid - 1</code>ï¼Œå¦‚æœæ˜¯æ±‚<strong>å·¦ä¾§å¤§äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</strong>ï¼Œé‚£ä¹ˆå°±ç”¨<strong>åæœ‰åºæ•°ç»„</strong>ï¼Œä¹Ÿå°±æ˜¯ <code>mid - i + 1</code></p>
<p><strong>è¿˜æœ‰æ ‘çŠ¶æ•°ç»„çš„æ–¹æ³•ï¼Œä»¥åå†è¯´å§ğŸ˜­</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] index;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] temp;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] tempIndex;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] res;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">countSmaller</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        List&lt;Integer&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = nums.length;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">0</span>) <span class="keyword">return</span> ans;</span><br><span class="line">        index = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        temp = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        tempIndex = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        res = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            index[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        mergeSort(nums, <span class="number">0</span>, len - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : res) &#123;</span><br><span class="line">            ans.add(num);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(right &lt;= left) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">int</span> mid = (left + right) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        mergeSort(nums, mid + <span class="number">1</span>, right);</span><br><span class="line">        mergeSort(nums, left, mid);</span><br><span class="line">        merge(nums, left, mid, right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] nums,<span class="keyword">int</span> left, <span class="keyword">int</span> mid, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = left, j = mid + <span class="number">1</span>, p = left;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= right) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[i] &gt; nums[j]) &#123;</span><br><span class="line">                temp[p] = nums[j];</span><br><span class="line">                <span class="comment">// å°†å½“å‰å˜åŒ–åçš„ç´¢å¼•å­˜èµ·æ¥</span></span><br><span class="line">                tempIndex[p++] = index[j++];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//æ­¤æ—¶å³ä¾§æœ‰å°äºå·¦ä¾§çš„å€¼ï¼Œæˆ‘ä»¬è¦æŠŠå³ä¾§æ‰€æœ‰å°äºå·¦ä¾§çš„å€¼éƒ½ç»™åŠ ä¸Š</span></span><br><span class="line">                <span class="comment">//è¿™é‡Œå¾—ç”¨ç´¢å¼•æ•°ç»„ï¼Œç´¢å¼•æ•°ç»„æ˜¯numsæ•°ç»„æ¯ä¸ªæ•°å€¼åŸæœ¬çš„åœ°å€</span></span><br><span class="line">                res[index[i]] += (j - mid - <span class="number">1</span>);</span><br><span class="line">                temp[p] = nums[i];</span><br><span class="line">                tempIndex[p++] = index[i++];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(i &lt;= mid) &#123;</span><br><span class="line">            res[index[i]] += (j - mid - <span class="number">1</span>);            </span><br><span class="line">            temp[p] = nums[i];</span><br><span class="line">            tempIndex[p++] = index[i++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (j &lt;= right) &#123;</span><br><span class="line">            temp[p] = nums[j];</span><br><span class="line">            tempIndex[p++] = index[j++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> k = left; k &lt;= right; k++) &#123;</span><br><span class="line">            <span class="comment">// å¾—åˆ°å˜åŒ–åçš„ç´¢å¼•</span></span><br><span class="line">            index[k] = tempIndex[k];</span><br><span class="line">            nums[k] = temp[k];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%AE%97%E6%B3%95/" rel="tag"># ç®—æ³•</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/03/12/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-3-12-3-21/" rel="prev" title="ç®—æ³•åˆ·é¢˜ç¬”è®°(3.12-3.21)">
      <i class="fa fa-chevron-left"></i> ç®—æ³•åˆ·é¢˜ç¬”è®°(3.12-3.21)
    </a></div>
      <div class="post-nav-item">
    <a href="/2022/04/01/%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0-4-1-4-10/" rel="next" title="ç®—æ³•åˆ·é¢˜ç¬”è®°(4.1-4.10)">
      ç®—æ³•åˆ·é¢˜ç¬”è®°(4.1-4.10) <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#3-22"><span class="nav-text">3.22</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%91%A9%E5%B0%94%E6%8A%95%E7%A5%A8%E6%B3%95"><span class="nav-text">æ‘©å°”æŠ•ç¥¨æ³•</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-23"><span class="nav-text">3.23</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E6%95%B0%E6%97%B6%E9%97%B4%E6%8F%92%E5%85%A5%E3%80%81%E5%88%A0%E9%99%A4%E5%92%8C%E8%8E%B7%E5%8F%96%E9%9A%8F%E6%9C%BA%E5%85%83%E7%B4%A0"><span class="nav-text">å¸¸æ•°æ—¶é—´æ’å…¥ã€åˆ é™¤å’Œè·å–éšæœºå…ƒç´ </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#random%E7%B1%BB"><span class="nav-text">randomç±»</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-24"><span class="nav-text">3.24</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%A0%E6%95%B0%E4%B9%8B%E5%92%8C"><span class="nav-text">å‡ æ•°ä¹‹å’Œ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-25"><span class="nav-text">3.25</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E5%91%BD%E6%B8%B8%E6%88%8F"><span class="nav-text">ç”Ÿå‘½æ¸¸æˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%BA%E5%A4%B1%E4%B8%80%E4%B8%AA%E6%AD%A3%E6%95%B0"><span class="nav-text">ç¼ºå¤±ä¸€ä¸ªæ­£æ•°</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-26"><span class="nav-text">3.26</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%88%90%E7%8E%AF%E6%B3%95"><span class="nav-text">æˆç¯æ³•</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BB%E6%89%BE%E9%87%8D%E5%A4%8D%E6%95%B0"><span class="nav-text">å¯»æ‰¾é‡å¤æ•°</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AE%A1%E7%AE%97%E5%99%A8"><span class="nav-text">åŸºæœ¬è®¡ç®—å™¨</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8C%E7%AB%AF%E9%98%9F%E5%88%97"><span class="nav-text">åŒç«¯é˜Ÿåˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC"><span class="nav-text">æ»‘åŠ¨çª—å£æœ€å¤§å€¼</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-27"><span class="nav-text">3.27</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3"><span class="nav-text">æ»‘åŠ¨çª—å£</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%80%E5%B0%8F%E8%A6%86%E7%9B%96%E5%AD%90%E4%B8%B2"><span class="nav-text">æœ€å°è¦†ç›–å­ä¸²</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8"><span class="nav-text">é“¾è¡¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%88%E5%B9%B6k%E4%B8%AA%E6%8E%92%E5%BA%8F%E9%93%BE%E8%A1%A8"><span class="nav-text">åˆå¹¶kä¸ªæ’åºé“¾è¡¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%93%BE%E8%A1%A8%E7%89%88%E7%9A%84%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F"><span class="nav-text">é“¾è¡¨ç‰ˆçš„å½’å¹¶æ’åº</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-28"><span class="nav-text">3.28</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99"><span class="nav-text">å•è¯æ¥é¾™</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-29"><span class="nav-text">3.29</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88"><span class="nav-text">äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C"><span class="nav-text">äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="nav-text">å¹¶æŸ¥é›†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%8B%E5%8F%8B%E5%9C%88"><span class="nav-text">æœ‹å‹åœˆ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-30"><span class="nav-text">3.30</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%BE%E7%A8%8B%E8%A1%A8"><span class="nav-text">è¯¾ç¨‹è¡¨</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-31"><span class="nav-text">3.31</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E9%80%86%E5%BA%8F%E6%95%B0%E5%AF%B9"><span class="nav-text">æ•°ç»„ä¸­çš„é€†åºæ•°å¯¹</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%95%B0%E7%BB%84"><span class="nav-text">ç´¢å¼•æ•°ç»„</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E5%8F%B3%E4%BE%A7%E5%B0%8F%E4%BA%8E%E5%BD%93%E5%89%8D%E5%85%83%E7%B4%A0%E7%9A%84%E4%B8%AA%E6%95%B0"><span class="nav-text">è®¡ç®—å³ä¾§å°äºå½“å‰å…ƒç´ çš„ä¸ªæ•°</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lbl"
      src="/images/wallhaven-m9q6e9.jpg">
  <p class="site-author-name" itemprop="name">lbl</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">88</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

       <!-- require APlayer -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
    <script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    <!-- require MetingJS-->
    <script src="https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js"></script>
	<!--ç½‘æ˜“äº‘-->
    <div class="aplayer"
      data-id="2773494627"
      data-server="netease"
      data-type="playlist"
      data-fixed="false"
      data-autoplay="false"
      data-list-folded="true"
      data-mutex="true"
      data-order="random"
      data-loop="all"
      data-volume="0.4"
      data-theme="#FADFA3"
      date-preload="auto" >
    </div>
    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lbl</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="ç«™ç‚¹æ€»å­—æ•°">352k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">5:20</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>


  <script src='https://unpkg.com/mermaid@/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>




        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="æ€»è®¿å®¢é‡">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="æ€»è®¿é—®é‡">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>











<script data-pjax>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

    </div>
</body>
</html>
